<!DOCTYPE html>
<html>
<head>
<title>Test</title>
<meta charset="utf-8" />
<script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
</head>
<body>

    <style>
    div {
       color: red; 
        }
    </style>
    
    <form id="formulaire">
        <input id="saisie">
    </form>
    <div id="afaire">
    </div>
    <div id="faites">
    </div>
    
    <script>
        var myDataRef = new Firebase('https://scorching-fire-4903.firebaseio.com/');
        document.getElementById('formulaire').onsubmit = function(evt) {
            evt.preventDefault();
            console.log(document.getElementById('saisie').value);
            myDataRef.push({
                name: document.getElementById('saisie').value,
                done: false   
            });
        };
        myDataRef.on('child_added', function(snapshot){
            var message = snapshot.val();
            console.log(message.name, snapshot.key());
            var afaire = document.getElementById('afaire');
            
            
           
            var creer = document.createElement ('p');
            var creer2= document.createElement ('button');
            var texte = document.createTextNode(message.name);
            var texte2 = document.createTextNode('Fait!');
            
            creer.appendChild(texte);
            creer2.appendChild(texte2);
            
            creer2.onclick = function() {
            afaire.removeChild(creer);
            afaire.removeChild(creer2);
            };
            afaire.appendChild(creer);
            afaire.appendChild(creer2);
        });  
    </script>
</body>
</html>
